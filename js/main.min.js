"use strict";

const mobileWidth = window.matchMedia("(max-width: 1439px)"),
  slickTestimonials = () => {
    $(document).ready(function () {
      $(".slider-list").slick({
        centerMode: !0,
        centerPadding: "310px",
        dots: !0,
        variableWidth: !0,
        prevArrow: $(".slider-controls__button--prev"),
        nextArrow: $(".slider-controls__button--next"),
        appendDots: $(".slider-controls__wrapper"),
        responsive: [{
          breakpoint: 1440,
          settings: {
            centerMode: !0,
            centerPadding: "310px",
            slidesToShow: 3
          }
        }, {
          breakpoint: 1439,
          settings: {
            centerMode: !0,
            centerPadding: "0px",
            slidesToShow: 1
          }
        }]
      });
    });
  },
  slickCases = () => {
    $(document).ready(function () {
      $(".cases-list").slick({
        slidesToShow: 1,
        slidesToScroll: 1,
        autoplay: !0,
        autoplaySpeed: 3e3,
        arrows: !1,
        variableWidth: !0
      });
    });
  };
$(window).on("load resize", function () {
  mobileWidth.matches ? $(".cases-list:not(.slick-initialized)").slick({
    slidesToShow: 1,
    slidesToScroll: 1,
    autoplay: !0,
    autoplaySpeed: 3e3,
    arrows: !1,
    variableWidth: !0
  }) : $(".cases-list.slick-initialized").slick("unslick");
}), slickTestimonials(), mobileWidth.matches && slickCases();
const navMain = document.querySelector(".main-nav"),
  navToggle = document.querySelector(".main-nav__toogle");
navMain.classList.remove("main-nav--nojs"), navToggle.addEventListener("click", function () {
  navMain.classList.contains("main-nav--closed") ? (navMain.classList.remove("main-nav--closed"), navMain.classList.add("main-nav--opened")) : (navMain.classList.add("main-nav--closed"), navMain.classList.remove("main-nav--opened"));
});
const block = Array.from(document.querySelectorAll(".animated-image-js")),
  observer = new IntersectionObserver(onIntersection, {
    root: null,
    threshold: .5
  });
function onIntersection(e) {
  e.forEach(e => {
    e.isIntersecting && (e.target.style.opacity = 1, e.target.classList.add("on-scroll-animation"), observer.unobserve(e.target));
  });
}
block.forEach(e => observer.observe(e));
const team = document.querySelector(".team"),
  teamList = team.querySelector(".team__list"),
  teamListButton = team.querySelector(".team__button");
teamListButton.addEventListener("click", () => {
  teamList.classList.remove("team-list--collapsed"), teamListButton.classList.add("team__button--clicked");
});
const slider = document.querySelector(".slider-controls"),
  buttonPrev = slider.querySelector(".slider-controls__button--prev"),
  buttonNext = slider.querySelector(".slider-controls__button--next"),
  blockedCheck = e => e.classList.contains("slider-controls__button--blocked"),
  checkButtonsDisability = () => {
    const e = slider.querySelector(".slick-dots").querySelectorAll("li"),
      t = slider.querySelector("li.slick-active");
    switch ([...e].indexOf(t)) {
      case [...e].length - 1:
        blockedCheck(buttonPrev) && buttonPrev.classList.remove("slider-controls__button--blocked"), buttonNext.classList.add("slider-controls__button--blocked");
        break;
      case 0:
        blockedCheck(buttonNext) && buttonNext.classList.remove("slider-controls__button--blocked"), buttonPrev.classList.add("slider-controls__button--blocked");
        break;
      case -1:
        checkButtonsDisability();
        break;
      default:
        blockedCheck(buttonPrev) && buttonPrev.classList.remove("slider-controls__button--blocked"), blockedCheck(buttonNext) && buttonNext.classList.remove("slider-controls__button--blocked");
    }
  };
document.addEventListener("DOMContentLoaded", () => {
  slider.onclick = e => {
    "BUTTON" === e.target.tagName && checkButtonsDisability();
  };
});
const processList = document.querySelector(".process-list"),
  listElements = processList.querySelectorAll(".process-list__item"),
  changeClass = e => {
    e.classList.contains("process-list__item--opened") ? (e.classList.remove("process-list__item--opened"), e.querySelector(".process-list__button").classList.remove(".process-list__button--opened")) : (e.classList.add("process-list__item--opened"), e.querySelector(".process-list__button").classList.add(".process-list__button--opened"));
  };
processList.onclick = e => {
  let t = e.target;
  "BUTTON" === t.tagName && changeClass(t.parentNode.parentElement);
};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJtb2JpbGVXaWR0aCIsIndpbmRvdyIsIm1hdGNoTWVkaWEiLCJzbGlja1Rlc3RpbW9uaWFscyIsIiQiLCJkb2N1bWVudCIsInJlYWR5Iiwic2xpY2siLCJjZW50ZXJNb2RlIiwiY2VudGVyUGFkZGluZyIsImRvdHMiLCJ2YXJpYWJsZVdpZHRoIiwicHJldkFycm93IiwibmV4dEFycm93IiwiYXBwZW5kRG90cyIsInJlc3BvbnNpdmUiLCJicmVha3BvaW50Iiwic2V0dGluZ3MiLCJzbGlkZXNUb1Nob3ciLCJzbGlja0Nhc2VzIiwic2xpZGVzVG9TY3JvbGwiLCJhdXRvcGxheSIsImF1dG9wbGF5U3BlZWQiLCJhcnJvd3MiLCJvbiIsIm1hdGNoZXMiLCJuYXZNYWluIiwicXVlcnlTZWxlY3RvciIsIm5hdlRvZ2dsZSIsImNsYXNzTGlzdCIsInJlbW92ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJjb250YWlucyIsImFkZCIsImJsb2NrIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsIm9ic2VydmVyIiwiSW50ZXJzZWN0aW9uT2JzZXJ2ZXIiLCJvbkludGVyc2VjdGlvbiIsInJvb3QiLCJ0aHJlc2hvbGQiLCJlbnRyaWVzIiwiZm9yRWFjaCIsImVudHJ5IiwiaXNJbnRlcnNlY3RpbmciLCJ0YXJnZXQiLCJzdHlsZSIsIm9wYWNpdHkiLCJ1bm9ic2VydmUiLCJlbCIsIm9ic2VydmUiLCJ0ZWFtIiwidGVhbUxpc3QiLCJ0ZWFtTGlzdEJ1dHRvbiIsInNsaWRlciIsImJ1dHRvblByZXYiLCJidXR0b25OZXh0IiwiYmxvY2tlZENoZWNrIiwiYnV0dG9uIiwiY2hlY2tCdXR0b25zRGlzYWJpbGl0eSIsImFjdGl2ZSIsImluZGV4T2YiLCJsZW5ndGgiLCJvbmNsaWNrIiwiZXZlbnQiLCJ0YWdOYW1lIiwicHJvY2Vzc0xpc3QiLCJsaXN0RWxlbWVudHMiLCJjaGFuZ2VDbGFzcyIsInBhcmVudE5vZGUiLCJwYXJlbnRF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LENBQUd4QixhQUFBQSxDQUFjLHVCQUFBLENBQUEsQ0FBeUJFLFNBQUFBLENBQVVDLE1BQUFBLENBQ2xELCtCQUFBLENBQUEsS0FHRnFCLENBQUFBLENBQUd0QixTQUFBQSxDQUFVSSxHQUFBQSxDQUFJLDRCQUFBLENBQUEsRUFDakJrQixDQUFBQSxDQUFHeEIsYUFBQUEsQ0FBYyx1QkFBQSxDQUFBLENBQXlCRSxTQUFBQSxDQUFVSSxHQUFBQSxDQUNsRCwrQkFBQSxDQUFBLENBRUo7RUFBQSxDQUFBO0FBR0ZtQyxXQUFBQSxDQUFZSCxPQUFBQSxHQUFXQyxDQUFBQSxJQUFBQTtFQUNyQixJQUFJbkIsQ0FBQUEsR0FBU21CLENBQUFBLENBQU1uQixNQUFBQTtFQUVJLFFBQUEsS0FBbkJBLENBQUFBLENBQU9vQixPQUFBQSxJQUdURyxXQUFBQSxDQUFZdkIsQ0FBQUEsQ0FBT3dCLFVBQUFBLENBQVdDLGFBQUFBLENBQ2hDO0FBQUEsQ0FBQSIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG1vYmlsZVdpZHRoID0gd2luZG93Lm1hdGNoTWVkaWEoJyhtYXgtd2lkdGg6IDE0MzlweCknKTtcclxuXHJcbmNvbnN0IHNsaWNrVGVzdGltb25pYWxzID0gKCkgPT4ge1xyXG4gICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcclxuICAgICQoJy5zbGlkZXItbGlzdCcpLnNsaWNrKHtcclxuICAgICAgY2VudGVyTW9kZTogdHJ1ZSxcclxuICAgICAgY2VudGVyUGFkZGluZzogJzMxMHB4JyxcclxuICAgICAgZG90czogdHJ1ZSxcclxuICAgICAgdmFyaWFibGVXaWR0aDogdHJ1ZSxcclxuICAgICAgcHJldkFycm93OiAkKCcuc2xpZGVyLWNvbnRyb2xzX19idXR0b24tLXByZXYnKSxcclxuICAgICAgbmV4dEFycm93OiAkKCcuc2xpZGVyLWNvbnRyb2xzX19idXR0b24tLW5leHQnKSxcclxuICAgICAgYXBwZW5kRG90czogJCgnLnNsaWRlci1jb250cm9sc19fd3JhcHBlcicpLFxyXG4gICAgICByZXNwb25zaXZlOiBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgYnJlYWtwb2ludDogMTQ0MCxcclxuICAgICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICAgIGNlbnRlck1vZGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNlbnRlclBhZGRpbmc6ICczMTBweCcsXHJcbiAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMyxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBicmVha3BvaW50OiAxNDM5LFxyXG4gICAgICAgICAgc2V0dGluZ3M6IHtcclxuICAgICAgICAgICAgY2VudGVyTW9kZTogdHJ1ZSxcclxuICAgICAgICAgICAgY2VudGVyUGFkZGluZzogJzBweCcsXHJcbiAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMSxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgXSxcclxuICAgIH0pO1xyXG4gIH0pO1xyXG59O1xyXG5cclxuY29uc3Qgc2xpY2tDYXNlcyA9ICgpID0+IHtcclxuICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XHJcbiAgICAkKCcuY2FzZXMtbGlzdCcpLnNsaWNrKHtcclxuICAgICAgc2xpZGVzVG9TaG93OiAxLFxyXG4gICAgICBzbGlkZXNUb1Njcm9sbDogMSxcclxuICAgICAgYXV0b3BsYXk6IHRydWUsXHJcbiAgICAgIGF1dG9wbGF5U3BlZWQ6IDMwMDAsXHJcbiAgICAgIGFycm93czogZmFsc2UsXHJcbiAgICAgIHZhcmlhYmxlV2lkdGg6IHRydWUsXHJcbiAgICB9KTtcclxuICB9KTtcclxufTtcclxuXHJcbiQod2luZG93KS5vbignbG9hZCByZXNpemUnLCBmdW5jdGlvbiAoKSB7XHJcbiAgaWYgKG1vYmlsZVdpZHRoLm1hdGNoZXMpIHtcclxuICAgICQoJy5jYXNlcy1saXN0Om5vdCguc2xpY2staW5pdGlhbGl6ZWQpJykuc2xpY2soe1xyXG4gICAgICBzbGlkZXNUb1Nob3c6IDEsXHJcbiAgICAgIHNsaWRlc1RvU2Nyb2xsOiAxLFxyXG4gICAgICBhdXRvcGxheTogdHJ1ZSxcclxuICAgICAgYXV0b3BsYXlTcGVlZDogMzAwMCxcclxuICAgICAgYXJyb3dzOiBmYWxzZSxcclxuICAgICAgdmFyaWFibGVXaWR0aDogdHJ1ZSxcclxuICAgIH0pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICAkKCcuY2FzZXMtbGlzdC5zbGljay1pbml0aWFsaXplZCcpLnNsaWNrKCd1bnNsaWNrJyk7XHJcbiAgfVxyXG59KTtcclxuXHJcbnNsaWNrVGVzdGltb25pYWxzKCk7XHJcbmlmIChtb2JpbGVXaWR0aC5tYXRjaGVzKSB7XHJcbiAgc2xpY2tDYXNlcygpO1xyXG59O1xyXG5jb25zdCBuYXZNYWluID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1haW4tbmF2Jyk7XHJcbmNvbnN0IG5hdlRvZ2dsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tYWluLW5hdl9fdG9vZ2xlJyk7XHJcblxyXG5uYXZNYWluLmNsYXNzTGlzdC5yZW1vdmUoJ21haW4tbmF2LS1ub2pzJyk7XHJcblxyXG5uYXZUb2dnbGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgaWYgKG5hdk1haW4uY2xhc3NMaXN0LmNvbnRhaW5zKCdtYWluLW5hdi0tY2xvc2VkJykpIHtcclxuICAgIG5hdk1haW4uY2xhc3NMaXN0LnJlbW92ZSgnbWFpbi1uYXYtLWNsb3NlZCcpO1xyXG4gICAgbmF2TWFpbi5jbGFzc0xpc3QuYWRkKCdtYWluLW5hdi0tb3BlbmVkJyk7XHJcbiAgfSBlbHNlIHtcclxuICAgIG5hdk1haW4uY2xhc3NMaXN0LmFkZCgnbWFpbi1uYXYtLWNsb3NlZCcpO1xyXG4gICAgbmF2TWFpbi5jbGFzc0xpc3QucmVtb3ZlKCdtYWluLW5hdi0tb3BlbmVkJyk7XHJcbiAgfVxyXG59KTtcclxuY29uc3QgYmxvY2sgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hbmltYXRlZC1pbWFnZS1qcycpKTtcclxuXHJcbmNvbnN0IG9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKG9uSW50ZXJzZWN0aW9uLCB7XHJcbiAgcm9vdDogbnVsbCwgLy8gZGVmYXVsdCBpcyB0aGUgdmlld3BvcnRcclxuICB0aHJlc2hvbGQ6IDAuNSwgLy8gcGVyY2VudGFnZSBvZiB0YXJnZXQncyB2aXNpYmxlIGFyZWEuIFRyaWdnZXJzIFwib25JbnRlcnNlY3Rpb25cIlxyXG59KTtcclxuXHJcbi8vIGNhbGxiYWNrIGlzIGNhbGxlZCBvbiBpbnRlcnNlY3Rpb24gY2hhbmdlXHJcbmZ1bmN0aW9uIG9uSW50ZXJzZWN0aW9uKGVudHJpZXMpIHtcclxuICBlbnRyaWVzLmZvckVhY2goKGVudHJ5KSA9PiB7XHJcbiAgICBpZiAoZW50cnkuaXNJbnRlcnNlY3RpbmcpIHtcclxuICAgICAgICBlbnRyeS50YXJnZXQuc3R5bGUub3BhY2l0eSA9IDE7XHJcbiAgICAgICAgZW50cnkudGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ29uLXNjcm9sbC1hbmltYXRpb24nKTtcclxuICAgICAgICBvYnNlcnZlci51bm9ic2VydmUoZW50cnkudGFyZ2V0KVxyXG4gICAgfVxyXG4gIH0pO1xyXG59XHJcblxyXG4vLyBVc2UgdGhlIG9ic2VydmVyIHRvIG9ic2VydmUgYW4gZWxlbWVudFxyXG5ibG9jay5mb3JFYWNoKChlbCkgPT4gb2JzZXJ2ZXIub2JzZXJ2ZShlbCkpO1xyXG5jb25zdCB0ZWFtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRlYW0nKTtcclxuY29uc3QgdGVhbUxpc3QgPSB0ZWFtLnF1ZXJ5U2VsZWN0b3IoJy50ZWFtX19saXN0Jyk7XHJcbmNvbnN0IHRlYW1MaXN0QnV0dG9uID0gdGVhbS5xdWVyeVNlbGVjdG9yKCcudGVhbV9fYnV0dG9uJyk7XHJcblxyXG50ZWFtTGlzdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgIHRlYW1MaXN0LmNsYXNzTGlzdC5yZW1vdmUoJ3RlYW0tbGlzdC0tY29sbGFwc2VkJyk7XHJcbiAgICB0ZWFtTGlzdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKCd0ZWFtX19idXR0b24tLWNsaWNrZWQnKTtcclxufSk7XHJcbmNvbnN0IHNsaWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZXItY29udHJvbHMnKTtcclxuY29uc3QgYnV0dG9uUHJldiA9IHNsaWRlci5xdWVyeVNlbGVjdG9yKCcuc2xpZGVyLWNvbnRyb2xzX19idXR0b24tLXByZXYnKTtcclxuY29uc3QgYnV0dG9uTmV4dCA9IHNsaWRlci5xdWVyeVNlbGVjdG9yKCcuc2xpZGVyLWNvbnRyb2xzX19idXR0b24tLW5leHQnKTtcclxuXHJcbmNvbnN0IGJsb2NrZWRDaGVjayA9IChidXR0b24pID0+IHtcclxuICByZXR1cm4gYnV0dG9uLmNsYXNzTGlzdC5jb250YWlucygnc2xpZGVyLWNvbnRyb2xzX19idXR0b24tLWJsb2NrZWQnKTtcclxufTtcclxuXHJcbmNvbnN0IGNoZWNrQnV0dG9uc0Rpc2FiaWxpdHkgPSAoKSA9PiB7XHJcbiAgY29uc3QgbGlzdCA9IHNsaWRlci5xdWVyeVNlbGVjdG9yKCcuc2xpY2stZG90cycpO1xyXG4gIGNvbnN0IGRvdHMgPSBsaXN0LnF1ZXJ5U2VsZWN0b3JBbGwoJ2xpJyk7XHJcbiAgY29uc3QgYWN0aXZlID0gc2xpZGVyLnF1ZXJ5U2VsZWN0b3IoJ2xpLnNsaWNrLWFjdGl2ZScpO1xyXG4gIGxldCBzbGlkZU51bWJlciA9IFsuLi5kb3RzXS5pbmRleE9mKGFjdGl2ZSk7XHJcblxyXG4gIHN3aXRjaCAoc2xpZGVOdW1iZXIpIHtcclxuICAgIGNhc2UgWy4uLmRvdHNdLmxlbmd0aCAtIDE6XHJcbiAgICAgIGlmIChibG9ja2VkQ2hlY2soYnV0dG9uUHJldikpXHJcbiAgICAgIGJ1dHRvblByZXYuY2xhc3NMaXN0LnJlbW92ZSgnc2xpZGVyLWNvbnRyb2xzX19idXR0b24tLWJsb2NrZWQnKTtcclxuICAgICAgYnV0dG9uTmV4dC5jbGFzc0xpc3QuYWRkKCdzbGlkZXItY29udHJvbHNfX2J1dHRvbi0tYmxvY2tlZCcpO1xyXG4gICAgICBicmVhaztcclxuICAgIGNhc2UgMDpcclxuICAgICAgaWYgKGJsb2NrZWRDaGVjayhidXR0b25OZXh0KSlcclxuICAgICAgYnV0dG9uTmV4dC5jbGFzc0xpc3QucmVtb3ZlKCdzbGlkZXItY29udHJvbHNfX2J1dHRvbi0tYmxvY2tlZCcpO1xyXG4gICAgICBidXR0b25QcmV2LmNsYXNzTGlzdC5hZGQoJ3NsaWRlci1jb250cm9sc19fYnV0dG9uLS1ibG9ja2VkJyk7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSAtMTpcclxuICAgICAgY2hlY2tCdXR0b25zRGlzYWJpbGl0eSgpO1xyXG4gICAgICBicmVhaztcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIGlmIChibG9ja2VkQ2hlY2soYnV0dG9uUHJldikpXHJcbiAgICAgIGJ1dHRvblByZXYuY2xhc3NMaXN0LnJlbW92ZSgnc2xpZGVyLWNvbnRyb2xzX19idXR0b24tLWJsb2NrZWQnKTtcclxuICAgICAgaWYgKGJsb2NrZWRDaGVjayhidXR0b25OZXh0KSlcclxuICAgICAgYnV0dG9uTmV4dC5jbGFzc0xpc3QucmVtb3ZlKCdzbGlkZXItY29udHJvbHNfX2J1dHRvbi0tYmxvY2tlZCcpO1xyXG4gICAgICBicmVhaztcclxuICB9XHJcbn07XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xyXG4gIHNsaWRlci5vbmNsaWNrID0gKGV2ZW50KSA9PiB7XHJcbiAgICBsZXQgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xyXG5cclxuICAgIGlmICh0YXJnZXQudGFnTmFtZSAhPT0gJ0JVVFRPTicpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY2hlY2tCdXR0b25zRGlzYWJpbGl0eSgpO1xyXG4gICAgfVxyXG4gIH07XHJcbn0pO1xyXG5jb25zdCBwcm9jZXNzTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9jZXNzLWxpc3QnKTtcclxuY29uc3QgbGlzdEVsZW1lbnRzID0gcHJvY2Vzc0xpc3QucXVlcnlTZWxlY3RvckFsbCgnLnByb2Nlc3MtbGlzdF9faXRlbScpO1xyXG5cclxuY29uc3QgY2hhbmdlQ2xhc3MgPSAoZWwpID0+IHtcclxuICBpZiAoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdwcm9jZXNzLWxpc3RfX2l0ZW0tLW9wZW5lZCcpKSB7XHJcbiAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKCdwcm9jZXNzLWxpc3RfX2l0ZW0tLW9wZW5lZCcpO1xyXG4gICAgZWwucXVlcnlTZWxlY3RvcignLnByb2Nlc3MtbGlzdF9fYnV0dG9uJykuY2xhc3NMaXN0LnJlbW92ZShcclxuICAgICAgJy5wcm9jZXNzLWxpc3RfX2J1dHRvbi0tb3BlbmVkJ1xyXG4gICAgKTtcclxuICB9IGVsc2Uge1xyXG4gICAgZWwuY2xhc3NMaXN0LmFkZCgncHJvY2Vzcy1saXN0X19pdGVtLS1vcGVuZWQnKTtcclxuICAgIGVsLnF1ZXJ5U2VsZWN0b3IoJy5wcm9jZXNzLWxpc3RfX2J1dHRvbicpLmNsYXNzTGlzdC5hZGQoXHJcbiAgICAgICcucHJvY2Vzcy1saXN0X19idXR0b24tLW9wZW5lZCdcclxuICAgICk7XHJcbiAgfVxyXG59O1xyXG5cclxucHJvY2Vzc0xpc3Qub25jbGljayA9IChldmVudCkgPT4ge1xyXG4gIGxldCB0YXJnZXQgPSBldmVudC50YXJnZXQ7XHJcblxyXG4gIGlmICh0YXJnZXQudGFnTmFtZSAhPT0gJ0JVVFRPTicpIHtcclxuICAgIHJldHVybjtcclxuICB9IGVsc2Uge1xyXG4gICAgY2hhbmdlQ2xhc3ModGFyZ2V0LnBhcmVudE5vZGUucGFyZW50RWxlbWVudCk7XHJcbiAgfVxyXG59OyJdfQ==
