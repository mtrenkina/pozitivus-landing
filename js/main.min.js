"use strict";

const mobileWidth = window.matchMedia("(max-width: 1439px)"),
  slickTestimonials = () => {
    $(document).ready(function () {
      $(".slider-list").slick({
        centerMode: !0,
        centerPadding: "310px",
        dots: !0,
        variableWidth: !0,
        prevArrow: $(".slider-controls__button--prev"),
        nextArrow: $(".slider-controls__button--next"),
        appendDots: $(".slider-controls__wrapper"),
        responsive: [{
          breakpoint: 1440,
          settings: {
            centerMode: !0,
            centerPadding: "310px",
            slidesToShow: 3
          }
        }, {
          breakpoint: 1439,
          settings: {
            centerMode: !0,
            centerPadding: "0px",
            slidesToShow: 1
          }
        }]
      });
    });
  },
  slickCases = () => {
    $(document).ready(function () {
      $(".cases-list").slick({
        slidesToShow: 1,
        slidesToScroll: 1,
        autoplay: !0,
        autoplaySpeed: 3e3,
        arrows: !1,
        variableWidth: !0
      });
    });
  };
$(window).on("load resize", function () {
  $(window).width() < 1440 ? $(".cases-list:not(.slick-initialized)").slick({
    slidesToShow: 1,
    slidesToScroll: 1,
    autoplay: !0,
    autoplaySpeed: 3e3,
    arrows: !1,
    variableWidth: !0
  }) : $(".cases-list.slick-initialized").slick("unslick");
}), slickTestimonials(), mobileWidth.matches && slickCases();
const navMain = document.querySelector(".main-nav"),
  navToggle = document.querySelector(".main-nav__toogle");
navMain.classList.remove("main-nav--nojs"), navToggle.addEventListener("click", function () {
  navMain.classList.contains("main-nav--closed") ? (navMain.classList.remove("main-nav--closed"), navMain.classList.add("main-nav--opened")) : (navMain.classList.add("main-nav--closed"), navMain.classList.remove("main-nav--opened"));
});
const block = Array.from(document.querySelectorAll(".animated-image-js")),
  observer = new IntersectionObserver(onIntersection, {
    root: null,
    threshold: .5
  });
function onIntersection(e) {
  e.forEach(e => {
    e.isIntersecting && (e.target.style.opacity = 1, e.target.classList.add("on-scroll-animation"), observer.unobserve(e.target));
  });
}
block.forEach(e => observer.observe(e));
const team = document.querySelector(".team"),
  teamList = team.querySelector(".team__list"),
  teamListButton = team.querySelector(".team__button");
teamListButton.addEventListener("click", () => {
  teamList.classList.remove("team-list--collapsed"), teamListButton.classList.add("team__button--clicked");
});
const slider = document.querySelector(".slider-controls"),
  buttonPrev = slider.querySelector(".slider-controls__button--prev"),
  buttonNext = slider.querySelector(".slider-controls__button--next"),
  blockedCheck = e => e.classList.contains("slider-controls__button--blocked"),
  checkButtonsDisability = () => {
    const e = slider.querySelector(".slick-dots").querySelectorAll("li"),
      t = slider.querySelector("li.slick-active");
    switch ([...e].indexOf(t)) {
      case [...e].length - 1:
        blockedCheck(buttonPrev) && buttonPrev.classList.remove("slider-controls__button--blocked"), buttonNext.classList.add("slider-controls__button--blocked");
        break;
      case 0:
        blockedCheck(buttonNext) && buttonNext.classList.remove("slider-controls__button--blocked"), buttonPrev.classList.add("slider-controls__button--blocked");
        break;
      case -1:
        checkButtonsDisability();
        break;
      default:
        blockedCheck(buttonPrev) && buttonPrev.classList.remove("slider-controls__button--blocked"), blockedCheck(buttonNext) && buttonNext.classList.remove("slider-controls__button--blocked");
    }
  };
document.addEventListener("DOMContentLoaded", () => {
  slider.onclick = e => {
    "BUTTON" === e.target.tagName && checkButtonsDisability();
  };
});
const processList = document.querySelector(".process-list"),
  listElements = processList.querySelectorAll(".process-list__item"),
  changeClass = e => {
    e.classList.contains("process-list__item--opened") ? (e.classList.remove("process-list__item--opened"), e.querySelector(".process-list__button").classList.remove(".process-list__button--opened")) : (e.classList.add("process-list__item--opened"), e.querySelector(".process-list__button").classList.add(".process-list__button--opened"));
  };
processList.onclick = e => {
  let t = e.target;
  "BUTTON" === t.tagName && changeClass(t.parentNode.parentElement);
};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJtb2JpbGVXaWR0aCIsIndpbmRvdyIsIm1hdGNoTWVkaWEiLCJzbGlja1Rlc3RpbW9uaWFscyIsIiQiLCJkb2N1bWVudCIsInJlYWR5Iiwic2xpY2siLCJjZW50ZXJNb2RlIiwiY2VudGVyUGFkZGluZyIsImRvdHMiLCJ2YXJpYWJsZVdpZHRoIiwicHJldkFycm93IiwibmV4dEFycm93IiwiYXBwZW5kRG90cyIsInJlc3BvbnNpdmUiLCJicmVha3BvaW50Iiwic2V0dGluZ3MiLCJzbGlkZXNUb1Nob3ciLCJzbGlja0Nhc2VzIiwic2xpZGVzVG9TY3JvbGwiLCJhdXRvcGxheSIsImF1dG9wbGF5U3BlZWQiLCJhcnJvd3MiLCJvbiIsIndpZHRoIiwibWF0Y2hlcyIsIm5hdk1haW4iLCJxdWVyeVNlbGVjdG9yIiwibmF2VG9nZ2xlIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNvbnRhaW5zIiwiYWRkIiwiYmxvY2siLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwib2JzZXJ2ZXIiLCJJbnRlcnNlY3Rpb25PYnNlcnZlciIsIm9uSW50ZXJzZWN0aW9uIiwicm9vdCIsInRocmVzaG9sZCIsImVudHJpZXMiLCJmb3JFYWNoIiwiZW50cnkiLCJpc0ludGVyc2VjdGluZyIsInRhcmdldCIsInN0eWxlIiwib3BhY2l0eSIsInVub2JzZXJ2ZSIsImVsIiwib2JzZXJ2ZSIsInRlYW0iLCJ0ZWFtTGlzdCIsInRlYW1MaXN0QnV0dG9uIiwic2xpZGVyIiwiYnV0dG9uUHJldiIsImJ1dHRvbk5leHQiLCJibG9ja2VkQ2hlY2siLCJidXR0b24iLCJjaGVja0J1dHRvbnNEaXNhYmlsaXR5IiwiYWN0aXZlIiwiaW5kZXhPZiIsImxlbmd0aCIsIm9uY2xpY2siLCJldmVudCIsInRhZ05hbWUiLCJwcm9jZXNzTGlzdCIsImxpc3RFbGVtZW50cyIsImNoYW5nZUNsYXNzIiwicGFyZW50Tm9kZSIs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dEIsU0FBQUEsQ0FBVUMsTUFBQUEsQ0FBTyw0QkFBQSxDQUFBLEVBQ3BCcUIsQ0FBQUEsQ0FBR3hCLGFBQUFBLENBQWMsdUJBQUEsQ0FBQSxDQUF5QkUsU0FBQUEsQ0FBVUMsTUFBQUEsQ0FDbEQsK0JBQUEsQ0FBQSxLQUdGcUIsQ0FBQUEsQ0FBR3RCLFNBQUFBLENBQVVJLEdBQUFBLENBQUksNEJBQUEsQ0FBQSxFQUNqQmtCLENBQUFBLENBQUd4QixhQUFBQSxDQUFjLHVCQUFBLENBQUEsQ0FBeUJFLFNBQUFBLENBQVVJLEdBQUFBLENBQ2xELCtCQUFBLENBQUEsQ0FFSjtFQUFBLENBQUE7QUFHRm1DLFdBQUFBLENBQVlILE9BQUFBLEdBQVdDLENBQUFBLElBQUFBO0VBQ3JCLElBQUluQixDQUFBQSxHQUFTbUIsQ0FBQUEsQ0FBTW5CLE1BQUFBO0VBRUksUUFBQSxLQUFuQkEsQ0FBQUEsQ0FBT29CLE9BQUFBLElBR1RHLFdBQUFBLENBQVl2QixDQUFBQSxDQUFPd0IsVUFBQUEsQ0FBV0MsYUFBQUEsQ0FDaEM7QUFBQSxDQUFBIiwiZmlsZSI6Im1haW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbW9iaWxlV2lkdGggPSB3aW5kb3cubWF0Y2hNZWRpYSgnKG1heC13aWR0aDogMTQzOXB4KScpO1xyXG5cclxuY29uc3Qgc2xpY2tUZXN0aW1vbmlhbHMgPSAoKSA9PiB7XHJcbiAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xyXG4gICAgJCgnLnNsaWRlci1saXN0Jykuc2xpY2soe1xyXG4gICAgICBjZW50ZXJNb2RlOiB0cnVlLFxyXG4gICAgICBjZW50ZXJQYWRkaW5nOiAnMzEwcHgnLFxyXG4gICAgICBkb3RzOiB0cnVlLFxyXG4gICAgICB2YXJpYWJsZVdpZHRoOiB0cnVlLFxyXG4gICAgICBwcmV2QXJyb3c6ICQoJy5zbGlkZXItY29udHJvbHNfX2J1dHRvbi0tcHJldicpLFxyXG4gICAgICBuZXh0QXJyb3c6ICQoJy5zbGlkZXItY29udHJvbHNfX2J1dHRvbi0tbmV4dCcpLFxyXG4gICAgICBhcHBlbmREb3RzOiAkKCcuc2xpZGVyLWNvbnRyb2xzX193cmFwcGVyJyksXHJcbiAgICAgIHJlc3BvbnNpdmU6IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICBicmVha3BvaW50OiAxNDQwLFxyXG4gICAgICAgICAgc2V0dGluZ3M6IHtcclxuICAgICAgICAgICAgY2VudGVyTW9kZTogdHJ1ZSxcclxuICAgICAgICAgICAgY2VudGVyUGFkZGluZzogJzMxMHB4JyxcclxuICAgICAgICAgICAgc2xpZGVzVG9TaG93OiAzLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGJyZWFrcG9pbnQ6IDE0MzksXHJcbiAgICAgICAgICBzZXR0aW5nczoge1xyXG4gICAgICAgICAgICBjZW50ZXJNb2RlOiB0cnVlLFxyXG4gICAgICAgICAgICBjZW50ZXJQYWRkaW5nOiAnMHB4JyxcclxuICAgICAgICAgICAgc2xpZGVzVG9TaG93OiAxLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgICBdLFxyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn07XHJcblxyXG5jb25zdCBzbGlja0Nhc2VzID0gKCkgPT4ge1xyXG4gICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcclxuICAgICQoJy5jYXNlcy1saXN0Jykuc2xpY2soe1xyXG4gICAgICBzbGlkZXNUb1Nob3c6IDEsXHJcbiAgICAgIHNsaWRlc1RvU2Nyb2xsOiAxLFxyXG4gICAgICBhdXRvcGxheTogdHJ1ZSxcclxuICAgICAgYXV0b3BsYXlTcGVlZDogMzAwMCxcclxuICAgICAgYXJyb3dzOiBmYWxzZSxcclxuICAgICAgdmFyaWFibGVXaWR0aDogdHJ1ZSxcclxuICAgIH0pO1xyXG4gIH0pO1xyXG59O1xyXG5cclxuJCh3aW5kb3cpLm9uKCdsb2FkIHJlc2l6ZScsIGZ1bmN0aW9uKCkge1xyXG4gIGlmICgkKHdpbmRvdykud2lkdGgoKSA8IDE0NDApIHtcclxuICAgICQoJy5jYXNlcy1saXN0Om5vdCguc2xpY2staW5pdGlhbGl6ZWQpJykuc2xpY2soe1xyXG4gICAgICBzbGlkZXNUb1Nob3c6IDEsXHJcbiAgICAgIHNsaWRlc1RvU2Nyb2xsOiAxLFxyXG4gICAgICBhdXRvcGxheTogdHJ1ZSxcclxuICAgICAgYXV0b3BsYXlTcGVlZDogMzAwMCxcclxuICAgICAgYXJyb3dzOiBmYWxzZSxcclxuICAgICAgdmFyaWFibGVXaWR0aDogdHJ1ZSxcclxuICAgIH0pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICAkKFwiLmNhc2VzLWxpc3Quc2xpY2staW5pdGlhbGl6ZWRcIikuc2xpY2soXCJ1bnNsaWNrXCIpO1xyXG4gIH1cclxufSk7XHJcblxyXG5zbGlja1Rlc3RpbW9uaWFscygpO1xyXG5pZiAobW9iaWxlV2lkdGgubWF0Y2hlcykgc2xpY2tDYXNlcygpO1xyXG5jb25zdCBuYXZNYWluID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1haW4tbmF2Jyk7XHJcbmNvbnN0IG5hdlRvZ2dsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tYWluLW5hdl9fdG9vZ2xlJyk7XHJcblxyXG5uYXZNYWluLmNsYXNzTGlzdC5yZW1vdmUoJ21haW4tbmF2LS1ub2pzJyk7XHJcblxyXG5uYXZUb2dnbGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgaWYgKG5hdk1haW4uY2xhc3NMaXN0LmNvbnRhaW5zKCdtYWluLW5hdi0tY2xvc2VkJykpIHtcclxuICAgIG5hdk1haW4uY2xhc3NMaXN0LnJlbW92ZSgnbWFpbi1uYXYtLWNsb3NlZCcpO1xyXG4gICAgbmF2TWFpbi5jbGFzc0xpc3QuYWRkKCdtYWluLW5hdi0tb3BlbmVkJyk7XHJcbiAgfSBlbHNlIHtcclxuICAgIG5hdk1haW4uY2xhc3NMaXN0LmFkZCgnbWFpbi1uYXYtLWNsb3NlZCcpO1xyXG4gICAgbmF2TWFpbi5jbGFzc0xpc3QucmVtb3ZlKCdtYWluLW5hdi0tb3BlbmVkJyk7XHJcbiAgfVxyXG59KTtcclxuY29uc3QgYmxvY2sgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hbmltYXRlZC1pbWFnZS1qcycpKTtcclxuXHJcbmNvbnN0IG9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKG9uSW50ZXJzZWN0aW9uLCB7XHJcbiAgcm9vdDogbnVsbCwgLy8gZGVmYXVsdCBpcyB0aGUgdmlld3BvcnRcclxuICB0aHJlc2hvbGQ6IDAuNSwgLy8gcGVyY2VudGFnZSBvZiB0YXJnZXQncyB2aXNpYmxlIGFyZWEuIFRyaWdnZXJzIFwib25JbnRlcnNlY3Rpb25cIlxyXG59KTtcclxuXHJcbi8vIGNhbGxiYWNrIGlzIGNhbGxlZCBvbiBpbnRlcnNlY3Rpb24gY2hhbmdlXHJcbmZ1bmN0aW9uIG9uSW50ZXJzZWN0aW9uKGVudHJpZXMpIHtcclxuICBlbnRyaWVzLmZvckVhY2goKGVudHJ5KSA9PiB7XHJcbiAgICBpZiAoZW50cnkuaXNJbnRlcnNlY3RpbmcpIHtcclxuICAgICAgICBlbnRyeS50YXJnZXQuc3R5bGUub3BhY2l0eSA9IDE7XHJcbiAgICAgICAgZW50cnkudGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ29uLXNjcm9sbC1hbmltYXRpb24nKTtcclxuICAgICAgICBvYnNlcnZlci51bm9ic2VydmUoZW50cnkudGFyZ2V0KVxyXG4gICAgfVxyXG4gIH0pO1xyXG59XHJcblxyXG4vLyBVc2UgdGhlIG9ic2VydmVyIHRvIG9ic2VydmUgYW4gZWxlbWVudFxyXG5ibG9jay5mb3JFYWNoKChlbCkgPT4gb2JzZXJ2ZXIub2JzZXJ2ZShlbCkpO1xyXG5jb25zdCB0ZWFtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRlYW0nKTtcclxuY29uc3QgdGVhbUxpc3QgPSB0ZWFtLnF1ZXJ5U2VsZWN0b3IoJy50ZWFtX19saXN0Jyk7XHJcbmNvbnN0IHRlYW1MaXN0QnV0dG9uID0gdGVhbS5xdWVyeVNlbGVjdG9yKCcudGVhbV9fYnV0dG9uJyk7XHJcblxyXG50ZWFtTGlzdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgIHRlYW1MaXN0LmNsYXNzTGlzdC5yZW1vdmUoJ3RlYW0tbGlzdC0tY29sbGFwc2VkJyk7XHJcbiAgICB0ZWFtTGlzdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKCd0ZWFtX19idXR0b24tLWNsaWNrZWQnKTtcclxufSk7XHJcbmNvbnN0IHNsaWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZXItY29udHJvbHMnKTtcclxuY29uc3QgYnV0dG9uUHJldiA9IHNsaWRlci5xdWVyeVNlbGVjdG9yKCcuc2xpZGVyLWNvbnRyb2xzX19idXR0b24tLXByZXYnKTtcclxuY29uc3QgYnV0dG9uTmV4dCA9IHNsaWRlci5xdWVyeVNlbGVjdG9yKCcuc2xpZGVyLWNvbnRyb2xzX19idXR0b24tLW5leHQnKTtcclxuXHJcbmNvbnN0IGJsb2NrZWRDaGVjayA9IChidXR0b24pID0+IHtcclxuICByZXR1cm4gYnV0dG9uLmNsYXNzTGlzdC5jb250YWlucygnc2xpZGVyLWNvbnRyb2xzX19idXR0b24tLWJsb2NrZWQnKTtcclxufTtcclxuXHJcbmNvbnN0IGNoZWNrQnV0dG9uc0Rpc2FiaWxpdHkgPSAoKSA9PiB7XHJcbiAgY29uc3QgbGlzdCA9IHNsaWRlci5xdWVyeVNlbGVjdG9yKCcuc2xpY2stZG90cycpO1xyXG4gIGNvbnN0IGRvdHMgPSBsaXN0LnF1ZXJ5U2VsZWN0b3JBbGwoJ2xpJyk7XHJcbiAgY29uc3QgYWN0aXZlID0gc2xpZGVyLnF1ZXJ5U2VsZWN0b3IoJ2xpLnNsaWNrLWFjdGl2ZScpO1xyXG4gIGxldCBzbGlkZU51bWJlciA9IFsuLi5kb3RzXS5pbmRleE9mKGFjdGl2ZSk7XHJcblxyXG4gIHN3aXRjaCAoc2xpZGVOdW1iZXIpIHtcclxuICAgIGNhc2UgWy4uLmRvdHNdLmxlbmd0aCAtIDE6XHJcbiAgICAgIGlmIChibG9ja2VkQ2hlY2soYnV0dG9uUHJldikpXHJcbiAgICAgIGJ1dHRvblByZXYuY2xhc3NMaXN0LnJlbW92ZSgnc2xpZGVyLWNvbnRyb2xzX19idXR0b24tLWJsb2NrZWQnKTtcclxuICAgICAgYnV0dG9uTmV4dC5jbGFzc0xpc3QuYWRkKCdzbGlkZXItY29udHJvbHNfX2J1dHRvbi0tYmxvY2tlZCcpO1xyXG4gICAgICBicmVhaztcclxuICAgIGNhc2UgMDpcclxuICAgICAgaWYgKGJsb2NrZWRDaGVjayhidXR0b25OZXh0KSlcclxuICAgICAgYnV0dG9uTmV4dC5jbGFzc0xpc3QucmVtb3ZlKCdzbGlkZXItY29udHJvbHNfX2J1dHRvbi0tYmxvY2tlZCcpO1xyXG4gICAgICBidXR0b25QcmV2LmNsYXNzTGlzdC5hZGQoJ3NsaWRlci1jb250cm9sc19fYnV0dG9uLS1ibG9ja2VkJyk7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSAtMTpcclxuICAgICAgY2hlY2tCdXR0b25zRGlzYWJpbGl0eSgpO1xyXG4gICAgICBicmVhaztcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIGlmIChibG9ja2VkQ2hlY2soYnV0dG9uUHJldikpXHJcbiAgICAgIGJ1dHRvblByZXYuY2xhc3NMaXN0LnJlbW92ZSgnc2xpZGVyLWNvbnRyb2xzX19idXR0b24tLWJsb2NrZWQnKTtcclxuICAgICAgaWYgKGJsb2NrZWRDaGVjayhidXR0b25OZXh0KSlcclxuICAgICAgYnV0dG9uTmV4dC5jbGFzc0xpc3QucmVtb3ZlKCdzbGlkZXItY29udHJvbHNfX2J1dHRvbi0tYmxvY2tlZCcpO1xyXG4gICAgICBicmVhaztcclxuICB9XHJcbn07XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xyXG4gIHNsaWRlci5vbmNsaWNrID0gKGV2ZW50KSA9PiB7XHJcbiAgICBsZXQgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xyXG5cclxuICAgIGlmICh0YXJnZXQudGFnTmFtZSAhPT0gJ0JVVFRPTicpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY2hlY2tCdXR0b25zRGlzYWJpbGl0eSgpO1xyXG4gICAgfVxyXG4gIH07XHJcbn0pO1xyXG5jb25zdCBwcm9jZXNzTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9jZXNzLWxpc3QnKTtcclxuY29uc3QgbGlzdEVsZW1lbnRzID0gcHJvY2Vzc0xpc3QucXVlcnlTZWxlY3RvckFsbCgnLnByb2Nlc3MtbGlzdF9faXRlbScpO1xyXG5cclxuY29uc3QgY2hhbmdlQ2xhc3MgPSAoZWwpID0+IHtcclxuICBpZiAoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdwcm9jZXNzLWxpc3RfX2l0ZW0tLW9wZW5lZCcpKSB7XHJcbiAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKCdwcm9jZXNzLWxpc3RfX2l0ZW0tLW9wZW5lZCcpO1xyXG4gICAgZWwucXVlcnlTZWxlY3RvcignLnByb2Nlc3MtbGlzdF9fYnV0dG9uJykuY2xhc3NMaXN0LnJlbW92ZShcclxuICAgICAgJy5wcm9jZXNzLWxpc3RfX2J1dHRvbi0tb3BlbmVkJ1xyXG4gICAgKTtcclxuICB9IGVsc2Uge1xyXG4gICAgZWwuY2xhc3NMaXN0LmFkZCgncHJvY2Vzcy1saXN0X19pdGVtLS1vcGVuZWQnKTtcclxuICAgIGVsLnF1ZXJ5U2VsZWN0b3IoJy5wcm9jZXNzLWxpc3RfX2J1dHRvbicpLmNsYXNzTGlzdC5hZGQoXHJcbiAgICAgICcucHJvY2Vzcy1saXN0X19idXR0b24tLW9wZW5lZCdcclxuICAgICk7XHJcbiAgfVxyXG59O1xyXG5cclxucHJvY2Vzc0xpc3Qub25jbGljayA9IChldmVudCkgPT4ge1xyXG4gIGxldCB0YXJnZXQgPSBldmVudC50YXJnZXQ7XHJcblxyXG4gIGlmICh0YXJnZXQudGFnTmFtZSAhPT0gJ0JVVFRPTicpIHtcclxuICAgIHJldHVybjtcclxuICB9IGVsc2Uge1xyXG4gICAgY2hhbmdlQ2xhc3ModGFyZ2V0LnBhcmVudE5vZGUucGFyZW50RWxlbWVudCk7XHJcbiAgfVxyXG59OyJdfQ==
