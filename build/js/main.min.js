"use strict";

const mobileWidth = window.matchMedia("(max-width: 767px)"),
  slickTestimonials = () => {
    $(document).ready(function () {
      $(".slider-list").slick({
        centerMode: !0,
        centerPadding: "310px",
        dots: !0,
        variableWidth: !0,
        prevArrow: $(".slider-controls__button--prev"),
        nextArrow: $(".slider-controls__button--next"),
        appendDots: $(".slider-controls__wrapper"),
        responsive: [{
          breakpoint: 1440,
          settings: {
            centerMode: !0,
            centerPadding: "310px",
            slidesToShow: 3
          }
        }, {
          breakpoint: 1439,
          settings: {
            centerMode: !0,
            centerPadding: "0px",
            slidesToShow: 1
          }
        }]
      });
    });
  },
  slickCases = () => {
    $(document).ready(function () {
      $(".cases-list").slick({
        slidesToShow: 1,
        slidesToScroll: 1,
        autoplay: !0,
        autoplaySpeed: 3e3,
        arrows: !1,
        variableWidth: !0
      });
    });
  };
$(window).on("load resize", function () {
  $(window).width() < 1440 ? $(".cases-list:not(.slick-initialized)").slick({
    slidesToShow: 1,
    slidesToScroll: 1,
    autoplay: !0,
    autoplaySpeed: 3e3,
    arrows: !1,
    variableWidth: !0
  }) : $(".cases-list.slick-initialized").slick("unslick");
}), slickTestimonials(), mobileWidth.matches && slickCases();
const navMain = document.querySelector(".main-nav"),
  navToggle = document.querySelector(".main-nav__toogle");
navMain.classList.remove("main-nav--nojs"), navToggle.addEventListener("click", function () {
  navMain.classList.contains("main-nav--closed") ? (navMain.classList.remove("main-nav--closed"), navMain.classList.add("main-nav--opened")) : (navMain.classList.add("main-nav--closed"), navMain.classList.remove("main-nav--opened"));
});
const block = Array.from(document.querySelectorAll(".animated-image-js")),
  observer = new IntersectionObserver(onIntersection, {
    root: null,
    threshold: .5
  });
function onIntersection(e) {
  e.forEach(e => {
    e.isIntersecting && (e.target.style.opacity = 1, e.target.classList.add("on-scroll-animation"), observer.unobserve(e.target));
  });
}
block.forEach(e => observer.observe(e));
const team = document.querySelector(".team"),
  teamList = team.querySelector(".team__list"),
  teamListButton = team.querySelector(".team__button");
teamListButton.addEventListener("click", () => {
  teamList.classList.remove("team-list--collapsed"), teamListButton.classList.add("team__button--clicked");
});
const slider = document.querySelector(".slider-controls"),
  buttonPrev = slider.querySelector(".slider-controls__button--prev"),
  buttonNext = slider.querySelector(".slider-controls__button--next"),
  blockedCheck = e => e.classList.contains("slider-controls__button--blocked"),
  checkButtonsDisability = () => {
    const e = slider.querySelector(".slick-dots").querySelectorAll("li"),
      t = slider.querySelector("li.slick-active");
    switch ([...e].indexOf(t)) {
      case [...e].length - 1:
        blockedCheck(buttonPrev) && buttonPrev.classList.remove("slider-controls__button--blocked"), buttonNext.classList.add("slider-controls__button--blocked");
        break;
      case 0:
        blockedCheck(buttonNext) && buttonNext.classList.remove("slider-controls__button--blocked"), buttonPrev.classList.add("slider-controls__button--blocked");
        break;
      case -1:
        checkButtonsDisability();
        break;
      default:
        blockedCheck(buttonPrev) && buttonPrev.classList.remove("slider-controls__button--blocked"), blockedCheck(buttonNext) && buttonNext.classList.remove("slider-controls__button--blocked");
    }
  };
document.addEventListener("DOMContentLoaded", () => {
  slider.onclick = e => {
    "BUTTON" === e.target.tagName && checkButtonsDisability();
  };
});
const processList = document.querySelector(".process-list"),
  listElements = processList.querySelectorAll(".process-list__item"),
  changeClass = e => {
    e.classList.contains("process-list__item--opened") ? (e.classList.remove("process-list__item--opened"), e.querySelector(".process-list__button").classList.remove(".process-list__button--opened")) : (e.classList.add("process-list__item--opened"), e.querySelector(".process-list__button").classList.add(".process-list__button--opened"));
  };
processList.onclick = e => {
  let t = e.target;
  "BUTTON" === t.tagName && changeClass(t.parentNode.parentElement);
};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJtb2JpbGVXaWR0aCIsIndpbmRvdyIsIm1hdGNoTWVkaWEiLCJzbGlja1Rlc3RpbW9uaWFscyIsIiQiLCJkb2N1bWVudCIsInJlYWR5Iiwic2xpY2siLCJjZW50ZXJNb2RlIiwiY2VudGVyUGFkZGluZyIsImRvdHMiLCJ2YXJpYWJsZVdpZHRoIiwicHJldkFycm93IiwibmV4dEFycm93IiwiYXBwZW5kRG90cyIsInJlc3BvbnNpdmUiLCJicmVha3BvaW50Iiwic2V0dGluZ3MiLCJzbGlkZXNUb1Nob3ciLCJzbGlja0Nhc2VzIiwic2xpZGVzVG9TY3JvbGwiLCJhdXRvcGxheSIsImF1dG9wbGF5U3BlZWQiLCJhcnJvd3MiLCJvbiIsIndpZHRoIiwibWF0Y2hlcyIsIm5hdk1haW4iLCJxdWVyeVNlbGVjdG9yIiwibmF2VG9nZ2xlIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNvbnRhaW5zIiwiYWRkIiwiYmxvY2siLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwib2JzZXJ2ZXIiLCJJbnRlcnNlY3Rpb25PYnNlcnZlciIsIm9uSW50ZXJzZWN0aW9uIiwicm9vdCIsInRocmVzaG9sZCIsImVudHJpZXMiLCJmb3JFYWNoIiwiZW50cnkiLCJpc0ludGVyc2VjdGluZyIsInRhcmdldCIsInN0eWxlIiwib3BhY2l0eSIsInVub2JzZXJ2ZSIsImVsIiwib2JzZXJ2ZSIsInRlYW0iLCJ0ZWFtTGlzdCIsInRlYW1MaXN0QnV0dG9uIiwic2xpZGVyIiwiYnV0dG9uUHJldiIsImJ1dHRvbk5leHQiLCJibG9ja2VkQ2hlY2siLCJidXR0b24iLCJjaGVja0J1dHRvbnNEaXNhYmlsaXR5IiwiYWN0aXZlIiwiaW5kZXhPZiIsImxlbmd0aCIsIm9uY2xpY2siLCJldmVudCIsInRhZ05hbWUiLCJwcm9jZXNzTGlzdCIsImxpc3RFbGVtZW50cyIsImNoYW5nZUNsYXNzIiwicGFyZW50Tm9kZSIs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dEIsU0FBQUEsQ0FBVUMsTUFBQUEsQ0FBTyw0QkFBQSxDQUFBLEVBQ3BCcUIsQ0FBQUEsQ0FBR3hCLGFBQUFBLENBQWMsdUJBQUEsQ0FBQSxDQUF5QkUsU0FBQUEsQ0FBVUMsTUFBQUEsQ0FDbEQsK0JBQUEsQ0FBQSxLQUdGcUIsQ0FBQUEsQ0FBR3RCLFNBQUFBLENBQVVJLEdBQUFBLENBQUksNEJBQUEsQ0FBQSxFQUNqQmtCLENBQUFBLENBQUd4QixhQUFBQSxDQUFjLHVCQUFBLENBQUEsQ0FBeUJFLFNBQUFBLENBQVVJLEdBQUFBLENBQ2xELCtCQUFBLENBQUEsQ0FFSjtFQUFBLENBQUE7QUFHRm1DLFdBQUFBLENBQVlILE9BQUFBLEdBQVdDLENBQUFBLElBQUFBO0VBQ3JCLElBQUluQixDQUFBQSxHQUFTbUIsQ0FBQUEsQ0FBTW5CLE1BQUFBO0VBRUksUUFBQSxLQUFuQkEsQ0FBQUEsQ0FBT29CLE9BQUFBLElBR1RHLFdBQUFBLENBQVl2QixDQUFBQSxDQUFPd0IsVUFBQUEsQ0FBV0MsYUFBQUEsQ0FDaEM7QUFBQSxDQUFBIiwiZmlsZSI6Im1haW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbW9iaWxlV2lkdGggPSB3aW5kb3cubWF0Y2hNZWRpYSgnKG1heC13aWR0aDogNzY3cHgpJyk7XHJcblxyXG5jb25zdCBzbGlja1Rlc3RpbW9uaWFscyA9ICgpID0+IHtcclxuICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XHJcbiAgICAkKCcuc2xpZGVyLWxpc3QnKS5zbGljayh7XHJcbiAgICAgIGNlbnRlck1vZGU6IHRydWUsXHJcbiAgICAgIGNlbnRlclBhZGRpbmc6ICczMTBweCcsXHJcbiAgICAgIGRvdHM6IHRydWUsXHJcbiAgICAgIHZhcmlhYmxlV2lkdGg6IHRydWUsXHJcbiAgICAgIHByZXZBcnJvdzogJCgnLnNsaWRlci1jb250cm9sc19fYnV0dG9uLS1wcmV2JyksXHJcbiAgICAgIG5leHRBcnJvdzogJCgnLnNsaWRlci1jb250cm9sc19fYnV0dG9uLS1uZXh0JyksXHJcbiAgICAgIGFwcGVuZERvdHM6ICQoJy5zbGlkZXItY29udHJvbHNfX3dyYXBwZXInKSxcclxuICAgICAgcmVzcG9uc2l2ZTogW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgIGJyZWFrcG9pbnQ6IDE0NDAsXHJcbiAgICAgICAgICBzZXR0aW5nczoge1xyXG4gICAgICAgICAgICBjZW50ZXJNb2RlOiB0cnVlLFxyXG4gICAgICAgICAgICBjZW50ZXJQYWRkaW5nOiAnMzEwcHgnLFxyXG4gICAgICAgICAgICBzbGlkZXNUb1Nob3c6IDMsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgYnJlYWtwb2ludDogMTQzOSxcclxuICAgICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICAgIGNlbnRlck1vZGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNlbnRlclBhZGRpbmc6ICcwcHgnLFxyXG4gICAgICAgICAgICBzbGlkZXNUb1Nob3c6IDEsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH0sXHJcbiAgICAgIF0sXHJcbiAgICB9KTtcclxuICB9KTtcclxufTtcclxuXHJcbmNvbnN0IHNsaWNrQ2FzZXMgPSAoKSA9PiB7XHJcbiAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xyXG4gICAgJCgnLmNhc2VzLWxpc3QnKS5zbGljayh7XHJcbiAgICAgIHNsaWRlc1RvU2hvdzogMSxcclxuICAgICAgc2xpZGVzVG9TY3JvbGw6IDEsXHJcbiAgICAgIGF1dG9wbGF5OiB0cnVlLFxyXG4gICAgICBhdXRvcGxheVNwZWVkOiAzMDAwLFxyXG4gICAgICBhcnJvd3M6IGZhbHNlLFxyXG4gICAgICB2YXJpYWJsZVdpZHRoOiB0cnVlLFxyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn07XHJcblxyXG4kKHdpbmRvdykub24oJ2xvYWQgcmVzaXplJywgZnVuY3Rpb24oKSB7XHJcbiAgaWYgKCQod2luZG93KS53aWR0aCgpIDwgMTQ0MCkge1xyXG4gICAgJCgnLmNhc2VzLWxpc3Q6bm90KC5zbGljay1pbml0aWFsaXplZCknKS5zbGljayh7XHJcbiAgICAgIHNsaWRlc1RvU2hvdzogMSxcclxuICAgICAgc2xpZGVzVG9TY3JvbGw6IDEsXHJcbiAgICAgIGF1dG9wbGF5OiB0cnVlLFxyXG4gICAgICBhdXRvcGxheVNwZWVkOiAzMDAwLFxyXG4gICAgICBhcnJvd3M6IGZhbHNlLFxyXG4gICAgICB2YXJpYWJsZVdpZHRoOiB0cnVlLFxyXG4gICAgfSk7XHJcbiAgfSBlbHNlIHtcclxuICAgICQoXCIuY2FzZXMtbGlzdC5zbGljay1pbml0aWFsaXplZFwiKS5zbGljayhcInVuc2xpY2tcIik7XHJcbiAgfVxyXG59KTtcclxuXHJcbnNsaWNrVGVzdGltb25pYWxzKCk7XHJcbmlmIChtb2JpbGVXaWR0aC5tYXRjaGVzKSBzbGlja0Nhc2VzKCk7XHJcbmNvbnN0IG5hdk1haW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWFpbi1uYXYnKTtcclxuY29uc3QgbmF2VG9nZ2xlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1haW4tbmF2X190b29nbGUnKTtcclxuXHJcbm5hdk1haW4uY2xhc3NMaXN0LnJlbW92ZSgnbWFpbi1uYXYtLW5vanMnKTtcclxuXHJcbm5hdlRvZ2dsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICBpZiAobmF2TWFpbi5jbGFzc0xpc3QuY29udGFpbnMoJ21haW4tbmF2LS1jbG9zZWQnKSkge1xyXG4gICAgbmF2TWFpbi5jbGFzc0xpc3QucmVtb3ZlKCdtYWluLW5hdi0tY2xvc2VkJyk7XHJcbiAgICBuYXZNYWluLmNsYXNzTGlzdC5hZGQoJ21haW4tbmF2LS1vcGVuZWQnKTtcclxuICB9IGVsc2Uge1xyXG4gICAgbmF2TWFpbi5jbGFzc0xpc3QuYWRkKCdtYWluLW5hdi0tY2xvc2VkJyk7XHJcbiAgICBuYXZNYWluLmNsYXNzTGlzdC5yZW1vdmUoJ21haW4tbmF2LS1vcGVuZWQnKTtcclxuICB9XHJcbn0pO1xyXG5jb25zdCBibG9jayA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFuaW1hdGVkLWltYWdlLWpzJykpO1xyXG5cclxuY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIob25JbnRlcnNlY3Rpb24sIHtcclxuICByb290OiBudWxsLCAvLyBkZWZhdWx0IGlzIHRoZSB2aWV3cG9ydFxyXG4gIHRocmVzaG9sZDogMC41LCAvLyBwZXJjZW50YWdlIG9mIHRhcmdldCdzIHZpc2libGUgYXJlYS4gVHJpZ2dlcnMgXCJvbkludGVyc2VjdGlvblwiXHJcbn0pO1xyXG5cclxuLy8gY2FsbGJhY2sgaXMgY2FsbGVkIG9uIGludGVyc2VjdGlvbiBjaGFuZ2VcclxuZnVuY3Rpb24gb25JbnRlcnNlY3Rpb24oZW50cmllcykge1xyXG4gIGVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcclxuICAgIGlmIChlbnRyeS5pc0ludGVyc2VjdGluZykge1xyXG4gICAgICAgIGVudHJ5LnRhcmdldC5zdHlsZS5vcGFjaXR5ID0gMTtcclxuICAgICAgICBlbnRyeS50YXJnZXQuY2xhc3NMaXN0LmFkZCgnb24tc2Nyb2xsLWFuaW1hdGlvbicpO1xyXG4gICAgICAgIG9ic2VydmVyLnVub2JzZXJ2ZShlbnRyeS50YXJnZXQpXHJcbiAgICB9XHJcbiAgfSk7XHJcbn1cclxuXHJcbi8vIFVzZSB0aGUgb2JzZXJ2ZXIgdG8gb2JzZXJ2ZSBhbiBlbGVtZW50XHJcbmJsb2NrLmZvckVhY2goKGVsKSA9PiBvYnNlcnZlci5vYnNlcnZlKGVsKSk7XHJcbmNvbnN0IHRlYW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGVhbScpO1xyXG5jb25zdCB0ZWFtTGlzdCA9IHRlYW0ucXVlcnlTZWxlY3RvcignLnRlYW1fX2xpc3QnKTtcclxuY29uc3QgdGVhbUxpc3RCdXR0b24gPSB0ZWFtLnF1ZXJ5U2VsZWN0b3IoJy50ZWFtX19idXR0b24nKTtcclxuXHJcbnRlYW1MaXN0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgdGVhbUxpc3QuY2xhc3NMaXN0LnJlbW92ZSgndGVhbS1saXN0LS1jb2xsYXBzZWQnKTtcclxuICAgIHRlYW1MaXN0QnV0dG9uLmNsYXNzTGlzdC5hZGQoJ3RlYW1fX2J1dHRvbi0tY2xpY2tlZCcpO1xyXG59KTtcclxuY29uc3Qgc2xpZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNsaWRlci1jb250cm9scycpO1xyXG5jb25zdCBidXR0b25QcmV2ID0gc2xpZGVyLnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZXItY29udHJvbHNfX2J1dHRvbi0tcHJldicpO1xyXG5jb25zdCBidXR0b25OZXh0ID0gc2xpZGVyLnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZXItY29udHJvbHNfX2J1dHRvbi0tbmV4dCcpO1xyXG5cclxuY29uc3QgYmxvY2tlZENoZWNrID0gKGJ1dHRvbikgPT4ge1xyXG4gIHJldHVybiBidXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKCdzbGlkZXItY29udHJvbHNfX2J1dHRvbi0tYmxvY2tlZCcpO1xyXG59O1xyXG5cclxuY29uc3QgY2hlY2tCdXR0b25zRGlzYWJpbGl0eSA9ICgpID0+IHtcclxuICBjb25zdCBsaXN0ID0gc2xpZGVyLnF1ZXJ5U2VsZWN0b3IoJy5zbGljay1kb3RzJyk7XHJcbiAgY29uc3QgZG90cyA9IGxpc3QucXVlcnlTZWxlY3RvckFsbCgnbGknKTtcclxuICBjb25zdCBhY3RpdmUgPSBzbGlkZXIucXVlcnlTZWxlY3RvcignbGkuc2xpY2stYWN0aXZlJyk7XHJcbiAgbGV0IHNsaWRlTnVtYmVyID0gWy4uLmRvdHNdLmluZGV4T2YoYWN0aXZlKTtcclxuXHJcbiAgc3dpdGNoIChzbGlkZU51bWJlcikge1xyXG4gICAgY2FzZSBbLi4uZG90c10ubGVuZ3RoIC0gMTpcclxuICAgICAgaWYgKGJsb2NrZWRDaGVjayhidXR0b25QcmV2KSlcclxuICAgICAgYnV0dG9uUHJldi5jbGFzc0xpc3QucmVtb3ZlKCdzbGlkZXItY29udHJvbHNfX2J1dHRvbi0tYmxvY2tlZCcpO1xyXG4gICAgICBidXR0b25OZXh0LmNsYXNzTGlzdC5hZGQoJ3NsaWRlci1jb250cm9sc19fYnV0dG9uLS1ibG9ja2VkJyk7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSAwOlxyXG4gICAgICBpZiAoYmxvY2tlZENoZWNrKGJ1dHRvbk5leHQpKVxyXG4gICAgICBidXR0b25OZXh0LmNsYXNzTGlzdC5yZW1vdmUoJ3NsaWRlci1jb250cm9sc19fYnV0dG9uLS1ibG9ja2VkJyk7XHJcbiAgICAgIGJ1dHRvblByZXYuY2xhc3NMaXN0LmFkZCgnc2xpZGVyLWNvbnRyb2xzX19idXR0b24tLWJsb2NrZWQnKTtcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlIC0xOlxyXG4gICAgICBjaGVja0J1dHRvbnNEaXNhYmlsaXR5KCk7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgZGVmYXVsdDpcclxuICAgICAgaWYgKGJsb2NrZWRDaGVjayhidXR0b25QcmV2KSlcclxuICAgICAgYnV0dG9uUHJldi5jbGFzc0xpc3QucmVtb3ZlKCdzbGlkZXItY29udHJvbHNfX2J1dHRvbi0tYmxvY2tlZCcpO1xyXG4gICAgICBpZiAoYmxvY2tlZENoZWNrKGJ1dHRvbk5leHQpKVxyXG4gICAgICBidXR0b25OZXh0LmNsYXNzTGlzdC5yZW1vdmUoJ3NsaWRlci1jb250cm9sc19fYnV0dG9uLS1ibG9ja2VkJyk7XHJcbiAgICAgIGJyZWFrO1xyXG4gIH1cclxufTtcclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiB7XHJcbiAgc2xpZGVyLm9uY2xpY2sgPSAoZXZlbnQpID0+IHtcclxuICAgIGxldCB0YXJnZXQgPSBldmVudC50YXJnZXQ7XHJcblxyXG4gICAgaWYgKHRhcmdldC50YWdOYW1lICE9PSAnQlVUVE9OJykge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjaGVja0J1dHRvbnNEaXNhYmlsaXR5KCk7XHJcbiAgICB9XHJcbiAgfTtcclxufSk7XHJcbmNvbnN0IHByb2Nlc3NMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2Nlc3MtbGlzdCcpO1xyXG5jb25zdCBsaXN0RWxlbWVudHMgPSBwcm9jZXNzTGlzdC5xdWVyeVNlbGVjdG9yQWxsKCcucHJvY2Vzcy1saXN0X19pdGVtJyk7XHJcblxyXG5jb25zdCBjaGFuZ2VDbGFzcyA9IChlbCkgPT4ge1xyXG4gIGlmIChlbC5jbGFzc0xpc3QuY29udGFpbnMoJ3Byb2Nlc3MtbGlzdF9faXRlbS0tb3BlbmVkJykpIHtcclxuICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoJ3Byb2Nlc3MtbGlzdF9faXRlbS0tb3BlbmVkJyk7XHJcbiAgICBlbC5xdWVyeVNlbGVjdG9yKCcucHJvY2Vzcy1saXN0X19idXR0b24nKS5jbGFzc0xpc3QucmVtb3ZlKFxyXG4gICAgICAnLnByb2Nlc3MtbGlzdF9fYnV0dG9uLS1vcGVuZWQnXHJcbiAgICApO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBlbC5jbGFzc0xpc3QuYWRkKCdwcm9jZXNzLWxpc3RfX2l0ZW0tLW9wZW5lZCcpO1xyXG4gICAgZWwucXVlcnlTZWxlY3RvcignLnByb2Nlc3MtbGlzdF9fYnV0dG9uJykuY2xhc3NMaXN0LmFkZChcclxuICAgICAgJy5wcm9jZXNzLWxpc3RfX2J1dHRvbi0tb3BlbmVkJ1xyXG4gICAgKTtcclxuICB9XHJcbn07XHJcblxyXG5wcm9jZXNzTGlzdC5vbmNsaWNrID0gKGV2ZW50KSA9PiB7XHJcbiAgbGV0IHRhcmdldCA9IGV2ZW50LnRhcmdldDtcclxuXHJcbiAgaWYgKHRhcmdldC50YWdOYW1lICE9PSAnQlVUVE9OJykge1xyXG4gICAgcmV0dXJuO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBjaGFuZ2VDbGFzcyh0YXJnZXQucGFyZW50Tm9kZS5wYXJlbnRFbGVtZW50KTtcclxuICB9XHJcbn07Il19
